<!doctype html>
<html>
  <head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Thesis slides</title>
		<meta name="description" content="PhD thesis slideshow">
		<meta name="author" content="David Pamies-Estrems">
		<link rel="stylesheet" href="dpe.css">
		<link rel="stylesheet" href="dist/reset.css">
		<link rel="stylesheet" href="dist/reveal.css"/>
		<link rel="stylesheet" href="dist/theme/devrel.css" id="theme"/>
		<link rel="stylesheet" href="dist/fontawesome/css/all.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="plugin/highlight/atom-one-dark.css" id="highlight-theme">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'dist/print/pdf.css' : 'dist/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
  </head>
  <body>
    <section id="tabzilla">
      <a href="http://www.urv.cat/">URV</a>
    </section>

    <div class="reveal">
      <div class="slides">

<!-------------------------------------------------------------------------------->
<!-- COVER                                                                      -->
<!-------------------------------------------------------------------------------->

      <section>
        <section>
          <header>
			  <hr>
		      <h1>Contributions to Lifelogging Protection in Streaming Environments</h1>
			  <hr>
		      <p>David P&agrave;mies-Estrems<p>
			  <span style="color: #484848;">Advisors: </span>Dr. Jordi Castell&agrave;-Roca, Dr. Joaquin Garcia-Alfaro

			  <div style="margin-top:1em;">
			    <h4>PhD Thesis Defense</h4>
			    <small>
				  Doctoral Programme in Computer Science and Mathematics of Security</br>
				  Departament d'Enginyeria Inform&agrave;tica i Matem&agrave;tiques</br>
				  Universitat Rovira i Virgili
			    </small>
			  </div>	
          </header>
        </section>

<!-------------------------------------------------------------------------------->
<!-- INDEX                                                                      -->
<!-------------------------------------------------------------------------------->

        <section>
          <ol>
            <li><span>Introduction</span></li>
            <li><span>State of the art</span></li>
			<li><span>Contributions</span>
			<ul>
				<li><span>Working at the WSE Side to Generate Privacy-Preserving User Profiles</span></li>
				<li><span>A Real-Time Query Log Protection Method for WSEs</span></li>
				<li><span>Lifelogging Protection Scheme for Internet-based Personal Assistants</span></li>
			</ul>		
			</li>
		    <li><span>Conclusions and Future Work</span></li>
          </ol>
        </section>
        
<!-------------------------------------------------------------------------------->
<!-- INTRODUCTION                                                               -->
<!-------------------------------------------------------------------------------->
          <section>
            <h2>Introduction</h2>
          </section>

<!-------------------------------------------------------------------------------->
	  <section data-auto-animate>
		<h3>Global Datasphere</h3>
	    <div class="container">
		<div class="col">
		    <br>
		    <div data-id="zb2018" style="display: inline-block;">
		    	<div style="display: inline-block; width:120px; height:75px; background-color:tomato;">33 ZB</div>
		    	<br>2018
		    </div>
		    <div data-id="zb2025" style="display: inline-block;">
		    	<div style="display: inline-block; width:120px; height:394px; background-color:transparent;">&nbsp;</div>
		    	<br>&nbsp;
		    </div>
		    &nbsp;<br>
		</div>
		<div class="colbig">
		    <img data-id="globe" class="plain globesmall" src="img/intro/globe.svg"><br>
		    <div class="datasphere"></div>
		</div>
	    </div>
	    
	    <aside class="notes">
			The whole data created, captured, or replicated, is called the Global Datasphere.
	    </aside>
	  </section>

	  <section data-auto-animate>
		<h3>Global Datasphere</h3>
	    <div class="container">
		<div class="col">
		    <br>
		    <div data-id="zb2018" style="display: inline-block;width:120px;">
		    	<div style="display: inline-block; width:120px; height:64px; margin-bottom: -21px; background-color:tomato;">33 ZB</div>
		    	<div data-id="zb2018" style="display: inline-block; width:120px; height:11px; background-color:green;"></div>
		    	<br>2018
		    </div>
		    <div data-id="zb2025" style="display: inline-block;width:120px;">
		    	<div style="display: inline-block; width:120px; height:276px; background-color:tomato;">175 ZB</div>
		    	<div data-id="zb2018" style="display: inline-block; width:120px; height:118px; background-color:green;"></div>
		    	<br>2025
		    </div>
		    +61% annual<br>
		    30% real-time
		</div>
		<div class="colbig">
		    <img data-id="globe" class="plain globesmall" src="img/intro/globepart.svg"><br>
		    <div class="datasphere"></div>
		    > 5 000 daily interactions
		</div>
	    </div>
	    
	    <aside class="notes">
			It will grow at an annual rate of 61\%, from 33 Zettabytes (ZB) in 2018 to 175 ZB by 2025. <br><br>
			More than five billion people generate some kind of data every day. 6 billion by 2025 (75% of the world's population), and each connected person will have at least 5 000 daily digital interactions, in front of the current 800.<br><br>
			Real-time data currently represents 15\% of the Global Datasphere, but predictions point that nearly 30\%
	    </aside>
	  </section>

<!-------------------------------------------------------------------------------->
      <section>
        <h3>Textual Queries</h3>
	    <div class="container">
			<div class="colbig align-left">
				<p>
					People use a Web Search Engine<br>
					Or a Personal Assistant:
				</p>
				<ul>
					<li><span>Few keywords</span></li>
					<li><span>Fast results</span></li>
				</ul>		    	
			</div>
			<div class="col">
				<img class="plain" src="img/intro/search_engines.png"/>
			</div>
	    </div>
	    <pre style="width:40%"><code data-id="querylogs" class="accesslog" data-trim>
			thompson water seal
	    </code></pre>
		<br>
	    <blockquote style="width:80%">Convenience + Growing data = High popularity</blockquote>
	    
	    <aside class="notes">
			If we focus on the Web, individuals interact with a Web Search Engine (WSE), a system to search the World Wide Web in a systematic way using a textual search query. These queries contain certain keywords related to the topics they are looking for. The WSE, then presents a list of responses related to those topics.<br><br>
			Popularity of these tools remain very high since only sending a basic query allows people to find, with a minimal response time, what they are looking for. Therefore, such services will continue to be essential in the coming years.<br><br>
	    </aside>
      </section>

<!-------------------------------------------------------------------------------->
      <section>
	    <h3>Log structure</h3>
		<p>
			Service provider adds metadata<br>
		</p>
        <p>
			<br>Each query log:<br>
		    <pre><code class="accesslog" data-trim>
				116874 thompson water seal   2006-05-24 11:31:36 1 http://www.thompsonswaterseal.com
		    </code></pre>
			<table width="100%">
			<tr>
				<td width="10%">
					$\downarrow$
					UserID
				</td>
				<td width="18%">
					&nbsp;&nbsp;&nbsp;$\downarrow$<br>
					Query
				</td>
				<td width="24%">
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$\downarrow$<br>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Time
				</td>
				<td width="48%">
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$\downarrow$<br>
					Clicked URL
				</td>
			</tr>
			</table>
        </p>

	    <aside class="notes">
			Service starts a data gathering process that stores the submitted query and some metadata<br><br>
			e.g. date of the query, some identifiers of the query issuer (user id), which specific search result was selected by the issuer (if applies), and other user related information<br><br>
			This information is usually registered in the form of a log.
	    </aside>
      </section>

<!-------------------------------------------------------------------------------->
      <section data-auto-animate>
	    <h3>Query logs</h3>
        <p>
			Queries may contain sensitive information
			<small>Medical, religious, sexual, political...</small>
        </p>
        <pre><code data-id="querylogs" class="accesslog" data-trim data-line-numbers="|6-15|9-11">
			116874 thompson water seal   2006-05-24 11:31:36 1 http://www.thompsonswaterseal.com
			116874 express-scripts	     2006-05-30 07:56:03 1 http://www.express-scripts.com
			116874 express-scripts	     2006-05-30 07:56:03 2 http://member.express-scripts.com
			116874 knbt	             2006-05-31 07:57:28
			116874 knbt.com	             2006-05-31 08:09:30 1 http://www.knbt.com
			117020 naughty thoughts	     2006-03-01 08:33:07 2 http://www.naughtythoughts.com
			117020 really eighteen	     2006-03-01 15:49:55 2 http://www.reallyeighteen.com
			117020 texas penal code	     2006-03-03 17:57:38 1 http://www.capitol.state.tx.us
			117020 hooks texas           2006-03-08 09:47:08
			117020 homicide hooks texas  2006-03-08 09:47:35
			117020 homicide bowie county 2006-03-08 09:48:25 6 http://www.tdcj.state.tx.us
			117020 texarkana gazette     2006-03-08 09:50:20 1 http://www.texarkanagazette.com
			117020 tdcj	             2006-03-08	09:52:36 1 http://www.tdcj.state.tx.us
			117020 naughty thoughts      2006-03-11 00:04:40 1 http://www.naughtythoughts.com
			117020 cupid.com             2006-03-11	00:08:50
        </code></pre>

	    <aside class="notes">
			And all the logs are usually stored in a file or database. That's what's generally called query logs.<br><br>
			Let's highlight the logs for a specific user<br><br>
			As we can see, sensitive information from the user such as behaviors, habits, interests, etc. are available to anyone who has access to the logs.<br><br> 
	    </aside>
      </section>
      
<!-------------------------------------------------------------------------------->
      <section data-auto-animate>
	    <h3>Record Linkage</h3>
        <pre><code data-id="querylogs" class="accesslog" data-trim>
			117020 hooks texas           2006-03-08 09:47:08
			117020 homicide hooks texas  2006-03-08 09:47:35
			117020 homicide bowie county 2006-03-08 09:48:25 6 http://www.tdcj.state.tx.us
        </code></pre>
		$\downarrow$<br>
	    <img class="" width="70%" src="/img/intro/map.png">
	    <p>
			Identifiers + Quasi-identifiers = <strong>Identity</strong><br>
			Modifications do not guarantee protection
	    </p>

	    <aside class="notes">
			From these we can see several logs related to a small town<br>
			Even more, some queries may contain identifiers and quasi-identifiers, which may allow to link queries with real people.<br><br>
	    </aside>
      </section>

<!-------------------------------------------------------------------------------->
	  <section>
		<h3>Lifelogging</h3>
		Personal Assistants<br>
		<small>SmartPhones, SmartGateways, SmartWatches, Activity Bands</small><br>
		<img class="" src="img/intro/lifelog.jpg">
		Continuous record of one's daily  activities<br>

	    <aside class="notes">
			Today we can find several tools that help us to access information, such as smartphones and activity bands.<br><br> 
			As a whole, we will refer to these devices as Personal Assistants.<br><br>
			Over time, a huge data repository of our everyday lives is created, which can be called lifelogging.<br><br>
			And Personal Assistants allow the process to be even more exhaustive.
	    </aside>
	  </section>

<!-------------------------------------------------------------------------------->
      <section>
        <h3>Users' profiles</h3>
		Weighted set of interests <br>
		<small>science, health, society, sports, etc.</small>
	    <div class="container">
			<div class="col align-left">
				<p>Used for:</p>
				<ul>
					<li><span>Personalization</span></li>
					<li><span>Usability</span></li>
					<li><span>Marketing</span></li>
					<li><span>Research</span></li>
				</ul><br>
			</div>
			<div class="col">
				<img class="plain" width="60%" src="img/intro/profile.png"/>		
			</div>
	    </div>

	    <aside class="notes">
			Once query logs are generated, they are processed and analyzed to build users’ profiles which could be used to improve their services in several ways.<br><br>
			+ Personalization: In order to show more relevant results for the user<br>
			+ Usability: To improve search algorithms and suggest alternative queries<br>
			+ Marketing: To improve advertising campaigns and extract market tendencies<br>
			+ Research: Query logs contain information that would never be available to researchers using conventional data collection techniques.<br>
	    </aside>
      </section>

<!-------------------------------------------------------------------------------->
	  <section>
		<h3>Monetization</h3>
		Selling data $\rightarrow$ Economic viability<br> 
		May expose sensitive information<br><br>

	    <div class="container">
		    <div class="col">
				<b>US Privacy Act</b><br>
				<img class="plain" width="40%" src="img/intro/privacy_act.svg">
		    </div>
		    <div class="col">
	   			<b>EU GDPR</b><br>
				<img class="plain" width="40%" src="img/intro/gdpr.svg">
		    </div>
		</div>
		<blockquote>
		    <b>Protect users’ data, allowing useful profiles.</b>
		</blockquote>

	    <aside class="notes">
			Using this data to obtain economic benefits is a key interest for many companies. <br><br>
			This process is known as data monetization and is achieved by selling data to third parties, however query logs could potentially expose sensitive user information.<br><br>
			Current regulations oblige companies to protect this personal information.<br><br>
			Therefore there is a strong need to protect sensible users’ data, while allowing the resulting data to remain useful for companies that offer the service. 
	    </aside>
	  </section>

<!-------------------------------------------------------------------------------->
    </section>

<!-------------------------------------------------------------------------------->
<!-- STATE OF THE ART                                                           -->
<!-------------------------------------------------------------------------------->
    <section>
      <section>
      	<h2>State of the Art</h2>
      </section>

<!-------------------------------------------------------------------------------->
      <section data-auto-animate>
	    <h3>Privacy Enhancing Technologies</h3>
		<table>
		    <tr><th></th><th></th></tr>
		    <tr>
				<td style="vertical-align: middle;"><b>Client side</b></td>
				<td>
					<ul>
					  <li><span>Obfuscation Techniques</span></li>
					  <li><span>Anonymous Channels</span></li>
					</ul>
				</td>
		    </tr>
		    <tr>
				<td style="vertical-align: middle;"><b>Collaborative</b></td>
				<td>
					<ul>
					  <li><span>Private Information Retrieval</span></li>
					  <li><span>Platform for Privacy Preferences (P3P)</span></li>
					  <li><span>Context-based Retrieval</span></li>
					</ul>
				</td>
		    </tr>
		    <tr>
				<td style="vertical-align: middle;"><b><span>Server side</span></b></td>
				<td>
					<ul>
					  <li><span>Fixed-length input</span></li>
					  <li><span>Data-stream input</span></li>
					</ul>
				</td>
		    </tr>
		</table>

	    <aside class="notes">
			We found three main categories of solutions, regarding the place they were deployed.<br><br>
			+ Client side solutions, have the benefit that users don't need to trust a third party to take care of their privacy, however they don't preserve much data utility.<br><br>
			+ Collaborative solutions among client/server, are slower solutions and some trust should be deposited on the server side<br><br>
			+ So we focused on server side, as they seem more appropiate to our needs.<br><br>
	    </aside>
      </section>

<!-------------------------------------------------------------------------------->
      <section data-auto-animate>
	    <h3>Privacy Enhancing Technologies</h3>
		<table>
		    <tr>
				<td colspan="2" style="text-align:center;"><span data-id="pet-ss"><b>Server side</b></span></td>
		    </tr>
		    <tr>
				<td style="text-align:center; vertical-align: middle;"><img data-id="pet-fli" class="plain" style="width:100px;vertical-align: middle;" src="img/state/batch.svg"><b><span data-id="pet-fl">&nbsp;&nbsp;Fixed-length</span></b></td>
				<td style="text-align:center; vertical-align: middle;"><b><span data-id="pet-ds">Data-stream</span></b>&nbsp;&nbsp;<img data-id="pet-dsi" class="plain" style="width:100px;vertical-align: middle;" src="img/state/stream.svg"></td>
		    </tr>
		    <tr>
				<td>
					<ul>
					  <li><span>Delayed treatment</span></li>
					  <li><span>Finite & static data</span></li>
					  <li><span>Could be unstructured</span></li>
					</ul>
				</td>
				<td>
					<ul>
					  <li><span>Immediate treatment</span></li>
					  <li><span>Infinite volumes</span></li>
					  <li><span>Numeric & structured data</span></li>
					</ul>
				</td>
		    </tr>
		</table>

	    <aside class="notes">
			Server side solutions could be classified into two main groups:<br><br>
			+ Fixed-lenght proposals: that use a closed data set taken and protected in isolation.<br><br>
			+ And Data-stream proposals: that are able to process a infinite volumes of data, but mainly work on structured data.<br><br>
	    </aside>
      </section>

<!-------------------------------------------------------------------------------->
      <section data-auto-animate>
	    <h3>Privacy Enhancing Technologies</h3>
		<table>
		    <tr>
				<td colspan="2" style="text-align:center;"><span data-id="pet-ss"><b>Server side</b></span></td>
		    </tr>
		    <tr>
				<td style="text-align:center; vertical-align: middle;"><img data-id="pet-fli" class="plain" style="width:100px;vertical-align: middle;" src="img/state/batch.svg"><b><span data-id="pet-fl">&nbsp;&nbsp;Fixed-length</span></b></td>
				<td style="text-align:center; vertical-align: middle;"><b><span data-id="pet-ds">Data-stream</span></b>&nbsp;&nbsp;<img data-id="pet-dsi" class="plain" style="width:100px;vertical-align: middle;" src="img/state/stream.svg"></td>
		    </tr>
		    <tr>
				<td>
					<ul>
					  <li><span>Delayed treatment</span></li>
					  <li><span>Finite & static data</span></li>
					  <li><span><b>Could be unstructured</b></span></li>
					</ul>
				</td>
				<td>
					<ul>
					  <li><span><b>Immediate treatment</b></span></li>
					  <li><span><b>Infinite volumes</b></span></li>
					  <li><span>Numeric & structured data</span></li>
					</ul>
				</td>
		    </tr>
		</table>
		<blockquote>
			Protect unstructured data on real-time, retaining data utility.
	    </blockquote>

	    <aside class="notes"> 
			Unfortunately, those systems do not fit when used in the growing real-time unstructured data environment posed by Internet services.<br><br>
			We seek: a server-side, real time, query anonymizer, that retain data utility to allow monetization.<br><br>
	    </aside>
      </section>

<!-------------------------------------------------------------------------------->
      <section>
        <h3>Probabilistic \(k\)-anonymity</h3>
	    <ul>
			<li><span>Without modifying logs</span></li>
			<li><span>A log indistinguishable from \(\geq k-1\) other logs</span></li>
			<li><span>Re-identification probability \(\lt 1/k\)</span></li>
	    </ul>
	    <img class="plain" width="60%" src="img/state/kdice.png" />

	    <aside class="notes">
			From the existing literature an interesting approach to our needs seems probabilistic k-anonymity.<br><br> 
			The goal of probabilistic k-anonymity is to make elements indistinguishable, distributing queries among different users.<br><br>
			To limit the probability of performing a re-identification of the original log to at most 1/k.<br><br>
	    </aside>
      </section>

<!-------------------------------------------------------------------------------->
	  <section data-auto-animate>
		  <h3>Probabilistic $k$-anonymity: $k=3$</h3>
		  <div data-id="input" class="kin">
			<div class="klog1" data-id="klog1"><img class="kuser" data-id="kimg1" src="img/state/asistante.svg"><div class="kquery1" data-id="kquery1">Mask</div></div>
			<div class="klog2" data-id="klog2"><img class="kuser" data-id="kimg2" src="img/state/chef.svg"><div class="kquery2" data-id="kquery2">Cake</div></div>
			<div class="klog3" data-id="klog3"><img class="kuser" data-id="kimg3" src="img/state/police-women.svg"><div class="kquery3" data-id="kquery3">Thief</div></div>
			<div class="klog4" data-id="klog4"><img class="kuser" data-id="kimg4" src="img/state/doctor.svg"><div class="kquery4" data-id="kquery4">Book</div></div>
		  </div>
		  $\downarrow$
		  <div data-id="mix" class="kanon container">
			<div class="col"></div>
			<div class="col"></div>
		  </div>
		  $\downarrow$
		  <div data-id="output" class="kout">
		  </div>
	  </section>

	  <section data-auto-animate>
		  <h3>Probabilistic $k$-anonymity: $k=3$</h3>
		  <div data-id="input" class="kin">
			<div class="klog1" data-id="klog1"></div>
			<div class="klog2" data-id="klog2"><img class="kuser" data-id="kimg2" src="img/state/chef.svg"><div class="kquery2" data-id="kquery2">Cake</div></div>
			<div class="klog3" data-id="klog3"><img class="kuser" data-id="kimg3" src="img/state/police-women.svg"><div class="kquery3" data-id="kquery3">Thief</div></div>
			<div class="klog4" data-id="klog4"><img class="kuser" data-id="kimg4" src="img/state/doctor.svg"><div class="kquery4" data-id="kquery4">Book</div></div>
		  </div>
		  $\downarrow$
		  <div data-id="mix" class="kanon container">
			<div class="col"><img class="kuser" data-id="kimg1" src="img/state/asistante.svg"></div>
			<div class="col"><div class="kquery1" data-id="kquery1">Mask</div></div>
		  </div>
		  $\downarrow$
		  <div data-id="output" class="kout">
		  </div>
	  </section>

	  <section data-auto-animate>
		  <h3>Probabilistic $k$-anonymity: $k=3$</h3>
		  <div data-id="input" class="kin">
			<div class="klog1" data-id="klog1"></div>
			<div class="klog2" data-id="klog2"></div>
			<div class="klog3" data-id="klog3"><img class="kuser" data-id="kimg3" src="img/state/police-women.svg"><div class="kquery3" data-id="kquery3">Thief</div></div>
			<div class="klog4" data-id="klog4"><img class="kuser" data-id="kimg4" src="img/state/doctor.svg"><div class="kquery4" data-id="kquery4">Book</div></div>
		  </div>
		  $\downarrow$
		  <div data-id="mix" class="kanon container">
			<div class="col">
				<img class="kuser" data-id="kimg1" src="img/state/asistante.svg">
				<img class="kuser" data-id="kimg2" src="img/state/chef.svg">
			</div>
			<div class="col">
				<div class="kquery1" data-id="kquery1">Mask</div>
				<div class="kquery2" data-id="kquery2">Cake</div>
			</div>
		  </div>
		  $\downarrow$
		  <div data-id="output" class="kout">
		  </div>
	  </section>

	  <section data-auto-animate>
		  <h3>Probabilistic $k$-anonymity: $k=3$</h3>
		  <div data-id="input" class="kin">
			<div class="klog1" data-id="klog1"></div>
			<div class="klog2" data-id="klog2"></div>
			<div class="klog3" data-id="klog3"></div>
			<div class="klog4" data-id="klog4"><img class="kuser" data-id="kimg4" src="img/state/doctor.svg"><div class="kquery4" data-id="kquery4">Book</div></div>
		  </div>
		  $\downarrow$
		  <div data-id="mix" class="kanon container">
			<div class="col">
				<img class="kuser" data-id="kimg1" src="img/state/asistante.svg">
				<img class="kuser" data-id="kimg2" src="img/state/chef.svg">
				<img class="kuser" data-id="kimg3" src="img/state/police-women.svg">
			</div>
			<div class="col">
				<div class="kquery1" data-id="kquery1">Mask</div>
				<div class="kquery2" data-id="kquery2">Cake</div>
				<div class="kquery3" data-id="kquery3">Thief</div>
			</div>
		  </div>
		  $\downarrow$
		  <div data-id="output" class="kout">
		  </div>
	  </section>

	  <section data-auto-animate>
		  <h3>Probabilistic $k$-anonymity: $k=3$</h3>
		  <div data-id="input" class="kin">
			<div class="klog1" data-id="klog1"></div>
			<div class="klog2" data-id="klog2"></div>
			<div class="klog3" data-id="klog3"></div>
			<div class="klog4" data-id="klog4"><img class="kuser" data-id="kimg4" src="img/state/doctor.svg"><div class="kquery4" data-id="kquery4">Book</div></div>
		  </div>
		  $\downarrow$
		  <div data-id="mix" class="kanon container">
			<div class="col">
				<img class="kuser" data-id="kimg1" src="img/state/asistante.svg">
				<img class="kuser" data-id="kimg3" src="img/state/police-women.svg">
			</div>
			<div class="col">
				<div class="kquery2" data-id="kquery2">Cake</div>
				<div class="kquery3" data-id="kquery3">Thief</div>
			</div>
		  </div>
		  $\downarrow$
		  <div data-id="output" class="kout">
			<div class="oklog1" data-id="oklog1"><img class="kuser" data-id="kimg2" src="img/state/chef.svg"><div class="kquery1" data-id="kquery1">Mask</div></div>
			<div class="oklog2" data-id="oklog2"></div>
		  </div>
	  </section>

	  <section data-auto-animate>
		  <h3>Probabilistic $k$-anonymity: $k=3$</h3>
		  <div data-id="input" class="kin">
			<div class="klog1" data-id="klog1"></div>
			<div class="klog2" data-id="klog2"></div>
			<div class="klog3" data-id="klog3"></div>
			<div class="klog4" data-id="klog4"></div>
		  </div>
		  $\downarrow$
		  <div data-id="mix" class="kanon container">
			<div class="col">
				<img class="kuser" data-id="kimg1" src="img/state/asistante.svg">
				<img class="kuser" data-id="kimg3" src="img/state/police-women.svg">
				<img class="kuser" data-id="kimg4" src="img/state/doctor.svg">
			</div>
			<div class="col">
				<div class="kquery2" data-id="kquery2">Cake</div>
				<div class="kquery3" data-id="kquery3">Thief</div>
				<div class="kquery4" data-id="kquery4">Book</div>
			</div>
		  </div>
		  $\downarrow$
		  <div data-id="output" class="kout">
			<div class="oklog1" data-id="oklog1"><img class="kuser" data-id="kimg2" src="img/state/chef.svg"><div class="kquery1" data-id="kquery1">Mask</div></div>
			<div class="oklog2" data-id="oklog2"></div>
		  </div>
	  </section>

	  <section data-auto-animate>
		  <h3>Probabilistic $k$-anonymity: $k=3$</h3>
		  <div data-id="input" class="kin">
			<div class="klog1" data-id="klog1"></div>
			<div class="klog2" data-id="klog2"></div>
			<div class="klog3" data-id="klog3"></div>
			<div class="klog4" data-id="klog4"></div>
		  </div>
		  $\downarrow$
		  <div data-id="mix" class="kanon container">
			<div class="col">
				<img class="kuser" data-id="kimg1" src="img/state/asistante.svg">
				<img class="kuser" data-id="kimg4" src="img/state/doctor.svg">
			</div>
			<div class="col">
				<div class="kquery2" data-id="kquery2">Cake</div>
				<div class="kquery3" data-id="kquery3">Thief</div>
			</div>
		  </div>
		  $\downarrow$
		  <div data-id="output" class="kout">
			<div class="oklog1" data-id="oklog1"><img class="kuser" data-id="kimg2" src="img/state/chef.svg"><div class="kquery1" data-id="kquery1">Mask</div></div>
			<div class="oklog2" data-id="oklog2"><img class="kuser" data-id="kimg3" src="img/state/police-women.svg"><div class="kquery4" data-id="kquery4">Book</div></div>
		  </div>
	  </section>

<!-------------------------------------------------------------------------------->
    </section>

<!-------------------------------------------------------------------------------->
<!-- PAPER 1                                                                    -->
<!-------------------------------------------------------------------------------->

	<section>
	  <section>
      	<h2>Working at the WSE Side to Generate Privacy-preserving User Profiles</h2>
	    <div style="text-align: right;">
			<small style=""><a href="https://doi.org/10.1016/j.eswa.2016.08.033"><b>Expert Systems with Applications</b><br> 64(C):523–535, December 2016<br></a></small><br>
			<small>Q1, I.F.: 2.981, 15 cites</small>
	    </div>

	    <aside class="notes">
	    </aside>
	  </section>

<!-------------------------------------------------------------------------------->
	  <section>
	    <h3>Proposal</h3>
	    <img class="plain" src="img/paper1/architecture.svg" width="100%">

	    <aside class="notes">
	    </aside>
	  </section>

<!-------------------------------------------------------------------------------->
	  <section>
		  <h3>WSE anonymizer</h3>
		  <div data-id="input" class="kin1">
			<div class="klog1" data-id="klog1"></div>
			<div class="klog4" data-id="klog4"><img class="kuser1" data-id="kimg4" src="img/state/doctor.svg"><div class="kquery14" data-id="kquery14">Book</div></div>
			<div class="klog2" data-id="klog2"></div>
		  </div>
		  $\downarrow$<br>
		  <div data-id="mix" class="kanon1 container1">
			<div class="containerdesc"><b>Arts</b></div>
			<div style="display: inline-flex;">	
				<div class="col">
					<div class="containerdesc">Users</div>
					<img class="kuser1" data-id="kimg1" src="img/state/doctor.svg">
					<img class="kuser1" data-id="kimg3" src="img/state/police-women.svg">&nbsp;
				</div>
				<div class="col">
					<div class="containerdesc">Queries</div>
					&nbsp;<div class="kquery14" data-id="kquery12">Brush</div>
					<div class="kquery13" data-id="kquery13">Paint</div>
				</div>
			</div>
		  </div>
		  <div data-id="mix" class="kanon1 container1">
			<div class="containerdesc"><b>Business</b></div>
			<div style="display: inline-flex;">
				<div class="col">
					<div class="containerdesc">Users</div>
					<img class="kuser1" data-id="kimg1" src="img/state/asistante.svg">
					<img class="kuser1" data-id="kimg3" src="img/state/police-women.svg">&nbsp;
				</div>
				<div class="col">
					<div class="containerdesc">Queries</div>
					&nbsp;<div class="kquery11" data-id="kquery12">Stock</div>
					<div class="kquery13" data-id="kquery13">IRS</div>
				</div>
			</div>
		  </div>
		  <div data-id="mix" class="kanon1 container1">
			<div class="containerdesc"><b>Computers</b></div>
			<div style="display: inline-flex;">
				<div class="col">
					<div class="containerdesc">Users</div>
					<img class="kuser1" data-id="kimg1" src="img/state/asistante.svg">
					<img class="kuser1" data-id="kimg3" src="img/state/chef.svg">&nbsp;
				</div>
				<div class="col">
					<div class="containerdesc">Queries</div>
					&nbsp;<div class="kquery11" data-id="kquery12">Web</div>
					<div class="kquery12" data-id="kquery13">DVD</div>
				</div>
			</div>
		  </div>
		  ...
		  <br>$\downarrow$
		  <div data-id="output" class="kout1">
			<div class="oklog1" data-id="oklog1"><img class="kuser1" data-id="kimg2" src="img/state/chef.svg"><div class="kquery11" data-id="kquery1">Mask</div></div>
		  </div>

		  <aside class="notes">
		  </aside>
	  </section>

<!-------------------------------------------------------------------------------->
	  <section>
	    <h3>Classifier</h3>
	    <div class="container">
		<div class="colbig">
		    <img class="plain" src="img/paper1/architecture_anonymization_1.svg">
		</div>
		<div class="col align-left">
		    <br>
		    <ul>
				<span>&nbsp;&nbsp;Natural language</span><br>
				<span>+&nbsp;DB&nbsp;Recommendations</span><br>
				<span>+&nbsp;DB&nbsp;Entropies</span><br>
				<span>+&nbsp;DB&nbsp;Categories</span><br>
				<hr>
				<span>=&nbsp;Categorization</span><br>
		    </ul>
	    </div>

	    <aside class="notes">
	    </aside>
	  </section>

<!-------------------------------------------------------------------------------->
	  <section>
	    <h3>Anonymizer and profiler</h3>
	    <div class="container">
			<div class="col">
				<img class="plain" src="img/paper1/architecture_anonymization_2.svg">
			</div>
			<div class="col align-left">
				<br><br><br>
				<ul>
					<li><span>Top level categories</span></li>
					<li><span>Split users and queries</span></li>
					<li><span>Randomly matched</span></li>
					<li><span>Update user profiles</span></li>
				</ul>
				<blockquote style="width:100%"><b>Restriction</b><br> Do not repeat original pairs</blockquote>
			</div>
	    </div>
 
	    <aside class="notes">
	    </aside>
	  </section>

<!-------------------------------------------------------------------------------->
	  <section>
	    <h3>De-anonymizers</h3>
	    <p>
			Try to reconstruct original logs<br>
			Pick a random <b>query</b> from a category $|C|>k$<br>
			<br>
			<b>User</b>:
	    </p>
	    <ol>
			<li><span>Random, using the restriction</span></li>
			<li><span>More current appearances in category</span></li>
			<li><span>Most likely profile</span></li>
			<li><span>Similar profile and more current appearances</span></li>
	    </ol>

	    <aside class="notes">
	    </aside>
	  </section>

<!-------------------------------------------------------------------------------->	  
<!--
	  <section>
	    <h3>De-anonymizers + Time</h3>
	    <p>Time field effect, in real time?</p>

	    <div class="container">
			<div class="col">
				<img class="plain" src="img/paper1/time.png">
			</div>
			<div class="colbig">
				<p>Unused time field<br>Publication order</p>
				$\downarrow$
				<p>Logs ordered by time field<br>Have they all been processed?</p>
			</div>
	    </div>

	    <aside class="notes">
	    </aside>
	  </section>
-->	

<!-------------------------------------------------------------------------------->
	  <section>
	    <h3>Heuristics</h3>
	    <div class="container">
			<div class="colbig align-left">
				<br>
				<strong>Without restriction</strong><br>
				<ul>
				  <li><span>Constant $k$</span></li>
				  <li><span>% not anonymized</span></li>
				</ul>
				<br><br><br>
				<strong>With restriction</strong><br>
				<ul>
				  <li><span>$k$ > 200</span></li>
				  <li><span>All anonymized</span></li>
				</ul><br>
				<p>$\delta \rightarrow$ Memory consumption</p>
			</div>
			<div class="col">
				<img class="plain" src="img/paper1/privacy_final_k.svg"><br>
				<img class="plain" src="img/paper1/privacy_match.svg">
			</div>
	    </div>

	    <aside class="notes">
	    </aside>	
	  </section>

<!-------------------------------------------------------------------------------->
	  <section>
	    <h3>Privacy</h3>
	    <img class="plain" src="img/paper1/privacy_match_zoom.svg">

	    <aside class="notes">
	    </aside>
	  </section>

<!-------------------------------------------------------------------------------->
	  <section>
	    <h3>Speed and Resource consumption</h3>
		<table>
		    <tr>
				<th></th><th>Time/log($\mu$s)</th><th>Queries/second</th>
		    </tr>
		    <tr>
				<td>Classifier</td><td><b>1.503</b></td><td>665</td>
		    <tr>
		    <tr>
				<td>Anonymizer</td><td>22</td><td><b>45.454</b></td>
		    <tr>
		    <tr>
				<td>Profiler</td><td>267</td><td>3.745</td>
		    <tr>
		</table>

		<div class="container">
		    <div class="col align-left">
				<br><br><br>
				<table>
					<tr>
						<th></th><th>Mem.(MiB)</th>
					</tr>
					<tr>
						<td>Classifier</td><td>112</td>
					<tr>
					<tr>
						<td>Anonymizer</td><td>10</td>
					<tr>
					<tr>
						<td>Profiler</td><td>12</td>
					<tr>
				</table>
		    </div>
		    <div class="col">
				<br>
				<img class="plain" src="img/paper1/speed_deanonymizer.svg" width="80%">
		    </div>
		</div>

	    <aside class="notes">
	    </aside>
	  </section>

<!-------------------------------------------------------------------------------->
	  <section>
	    <h3>Utility</h3>
	    <p>
			Classified 74% $\rightarrow$ Recommendations <b>85%</b><br>
			<b>59%</b> Correct
	    </p>
		<table>
		    <tr><th></th><th></th><th></th><th></th><tr>
		    <tr><td>Arts</td><td>57%</td><td>Recreation</td><td>55%</td><tr>
		    <tr><td>Business</td><td>77%</td><td>Reference</td><td>69%</td><tr>
		    <tr><td>Computers</td><td>65%</td><td>Regional</td><td>69%</td><tr>
		    <tr><td>Games</td><td>56%</td><td>Science</td><td>47%</td><tr>
		    <tr><td>Health</td><td><b>88%</b></td><td>Shopping</td><td>70%</td><tr>
		    <tr><td>Home</td><td>81%</td><td>Society</td><td>57%</td><tr>
		    <tr><td>Kids and Teens</td><td>38%</td><td>Sports</td><td>40%</td><tr>
		    <tr><td>News</td><td><b>17%</b></td><td>World</td><td>31%</td><tr>
		</table>

	    <aside class="notes">
	    </aside>
	  </section>

	</section>

<!-------------------------------------------------------------------------------->
<!-- PAPER 2                                                                    -->
<!-------------------------------------------------------------------------------->

	<section>
	  <section>
        <h2>A Real-Time Query Log Protection Method for Web Search Engines</h2>
	    <div style="text-align: right;">
			<small style=""><a href="https://doi.org/10.1109/ACCESS.2020.2992012"><b>IEEE Access</b><br> Vol. 8, 87393–87413, May 2020</a></small><br>
			<small>Q1, I.F.: 4.098</small>
	    </div>
	  </section>

<!-------------------------------------------------------------------------------->
	  <section>
	    <h3>Motivation</h3>
	    <p>
			<ul>
				<li><span>Preserve as much data utility as desired</span></li>
				<li><span>Customizable levels of categorization</span></li>
				<li><span>Formal and experimental proofs</span></li>
			</ul>
	    </p>
	    <img class="plain" src="img/paper1/requirements.png" width="90%">

	    <aside class="notes">
			In this paper, we want to improve the previously proposed system. <br><br>
			In the previous paper, query logs were classified using broad categories, which caused a certain degree of utility loss.<br><br>
			This expands our previous proposal to use parameterizable levels of categorization. <br><br>
			Formal and experimental proofs will be devised to ensure its feasibility.
	    </aside>
	  </section>

<!-------------------------------------------------------------------------------->
	  <section>
		  <h3>Proposal</h3>
		  <div data-id="input" class="kin1">
			<div class="klog1" data-id="klog1"></div>
			<div class="klog4" data-id="klog4"><img class="kuser1" data-id="kimg4" src="img/state/doctor.svg"><div class="kquery14" data-id="kquery14">Book</div></div>
			<div class="klog2" data-id="klog2"></div>
		  </div>
		  $\downarrow$<br>
		  <div data-id="mix" class="kanon21 container1">
			<div class="containerdesc"><b>Arts</b></div>
			<div style="display: inline-flex;">	
				<div class="col"><div class="containerdesc">$U_1^1$&nbsp;&nbsp;</div></div>
				<div class="col"><div class="containerdesc">&nbsp;&nbsp;$Q_1^1$</div></div>
			</div>
		  </div>
		  <div data-id="mix" class="kanon22 container1">
			<div class="containerdesc"><b>Business</b></div>
			<div style="display: inline-flex;">
				<div class="col"><div class="containerdesc">$U_2^1$&nbsp;&nbsp;</div></div>
				<div class="col"><div class="containerdesc">&nbsp;&nbsp;$Q_2^1$</div></div>
			</div>
		  </div>
		  <div data-id="mix" class="kanon23 container1">
			<div class="containerdesc"><b>Computers</b></div>
			<div style="display: inline-flex;">
				<div class="col"><div class="containerdesc">$U_3^1$&nbsp;&nbsp;</div></div>
				<div class="col"><div class="containerdesc">&nbsp;&nbsp;$Q_3^1$</div></div>
			</div>
		  </div>

		  ...<br><br>

		  <div data-id="mix" class="kanon31 container1">
			<div class="containerdesc"><b>A/Music</b></div>
			<div style="display: inline-flex;">	
				<div class="col"><div class="containerdesc">$U_1^2$&nbsp;&nbsp;</div></div>
				<div class="col"><div class="containerdesc">&nbsp;&nbsp;$Q_1^2$</div></div>
			</div>
		  </div>
		  <div data-id="mix" class="kanon31 container1">
			<div class="containerdesc"><b>A/Painting</b></div>
			<div style="display: inline-flex;">
				<div class="col"><div class="containerdesc">$U_2^2$&nbsp;&nbsp;</div></div>
				<div class="col"><div class="containerdesc">&nbsp;&nbsp;$Q_2^2$</div></div>
			</div>
		  </div>
		  <div data-id="mix" class="kanon32 container1">
			<div class="containerdesc"><b>B/Companies</b></div>
			<div style="display: inline-flex;">
				<div class="col"><div class="containerdesc">$U_3^2$&nbsp;&nbsp;</div></div>
				<div class="col"><div class="containerdesc">&nbsp;&nbsp;$Q_3^2$</div></div>
			</div>
		  </div>
		  <div data-id="mix" class="kanon33 container1">
			<div class="containerdesc"><b>C/Software</b></div>
			<div style="display: inline-flex;">
				<div class="col"><div class="containerdesc">$U_4^2$&nbsp;&nbsp;</div></div>
				<div class="col"><div class="containerdesc">&nbsp;&nbsp;$Q_4^2$</div></div>
			</div>
		  </div>
		  <div data-id="mix" class="kanon33 container1">
			<div class="containerdesc"><b>C/Hardware</b></div>
			<div style="display: inline-flex;">
				<div class="col"><div class="containerdesc">$U_5^2$&nbsp;&nbsp;</div></div>
				<div class="col"><div class="containerdesc">&nbsp;&nbsp;$Q_5^2$</div></div>
			</div>
		  </div>
		  ...<br>
		  ...
		  <br>$\downarrow$
		  <div data-id="output" class="kout1">
			<div class="oklog1" data-id="oklog1"><img class="kuser1" data-id="kimg2" src="img/state/chef.svg"><div class="kquery11" data-id="kquery1">Mask</div></div>
		  </div>
	  </section>

<!-------------------------------------------------------------------------------->
	  <section>
	    <h3>Restrictions</h3>
	    <p>
			<blockquote>
				A given query associated to an anonymized log must 
				<b>not be assigned to the same user</b> that issued the 
				query on the unanonymized log.
			</blockquote>

			<blockquote>
				When creating an anonymized query log, user must be selected <b>randomly
				between at least $k$ different user</b> values.
			</blockquote>

			Therefore, $U_x^h$ and $Q_x^h$ may have different size
	    </p>

	    <aside class="notes">
	    </aside>
	  </section>

<!-------------------------------------------------------------------------------->
	  <section>
		<h3>Maximum probability of re-identification</h3>
		\begin{align}
		    P(Re(r'_j)=Id(r'_j)) \leq \max\limits_{\forall x,h} \frac{|U_x^h \cap {Id(r'_j)}|}{|U_x^h|}
		\end{align}

		\begin{align}
		    \forall x,h,Id(r'_j) \rightarrow |U_x^h \cap {Id(r'_j)}| \in {0,1}
		\end{align}

		$P(Re(r'_j)=Id(r'_j)) \leq \frac{1}{k}$<br/><br/> 
		Probabilistic $k$-anonymity!

	    <aside class="notes">
			For each vertex of that tree, the random selection of an element guarantees that all outcomes are equally likely to be selected. Therefore, we can state maximum probability of re-identification of a record over the tree.<br><br>
			As $U_x^h$ sets are defined using arity, we know that a user could be present on a set 0 or 1 times<br><br>
			Therefore we have an upper bound on our proposal, which is ${\frac{1}{k}}$, hence satisfying probabilistic $k$-anonymity.<br><br>
	    </aside>
	  </section>

<!-------------------------------------------------------------------------------->
	  <section>
	    <h3>Full Architecture</h3>
		<img class="plain" src="img/paper2/full_architecture.svg"/>

	    <aside class="notes">
			Full Architecture: <br><br>
			<b>WSE Anonymizer</b> takes a stream of query logs and anonymizes them, also generating a database of user profiles.<br><br>
			<b>De-anonymizer</b> tries to recreate the original logs and user profiles.<br><br>
			<b>Profile matcher</b> responsible of benchmarking anonymization, de-anonymization and performance, also generates a profile utility metric.
	    </aside>
	  </section>

<!-------------------------------------------------------------------------------->
	  <section>
	    <h3>Experimental Results</h3>
		<b>Classifier</b> 
		<blockquote>
			85% $\rightarrow$ 98% original logs<br>
			Hierarchical classification: $1 \leq n \leq 13$.<br>
		</blockquote>

		<b>Anonymizer</b>
		<blockquote>
			$3 \leq k \leq 200$<br>
			$1 \leq \ell \leq 13$<br>
		</blockquote>

		<b>Profiler</b>
		<blockquote>
			Determine loss of data utility<br>
			$3 \leq k \leq 90$ and $1 \leq \ell \leq 13$<br>
		</blockquote>

	    <aside class="notes">
			Changes made to natural language processing algorithms on lead to categorize 98% of original logs<br><br>
			<b>The Classifier</b> adds to each log record an  additional  column  with  a  hierarchical  classification. In our case, n was between one and 13, and each element of the list represents a subcategory of the previous element.<br><br>
			<b>Anonymizer</b> was tested multiple times, to cover different K and L values.<br><br>
			
			We decided to test all available L values, that with our classification correspond to values between one and 13.<br><br>
			<b>Profiler</b> specific tests were conducted with the profiler, to determine the amount of data utility that could be lost with anonymized profiles creation respect to unanonymized profiles.<br><br>
	    </aside>
	  </section>

<!-------------------------------------------------------------------------------->
	  <section>
	    <h3>De-anonymizer</h3>

		<b>Record-linkage 1</b><br> 
		<blockquote>Randomly match users and queries<br> (Same category + Restrictions)</blockquote>

		<b>Record-linkage 2</b><br>
		<blockquote>User more times on a category</blockquote>

		<b>Record-linkage 3</b><br>
		<blockquote>User profiles. Balances current and historical values</blockquote>

	    <aside class="notes">
			All anonymized data was tested against three different record-linkage algorithms:<br>
			<b>Record-linkage 1</b> Is the simplest algorithm. It tries to recreate original logs by randomly matching users and queries from the same category.<br><br>
			<b>Record-linkage 2</b> It assigns the user that appears more times on a category to the selected query.<br><br>
			<b>Record-linkage 3</b> It keeps track of how many times a user issued a query on each category, constantly updating a simplified user profile, balancing the importance between current state of the system and historical values.<br><br>
	    </aside>
	  </section>

<!-------------------------------------------------------------------------------->
	  <section>
	    <h3>Privacy study</h3>
		<img class="plain" src="img/paper2/record_linkage_1.svg" width="30%">&nbsp;<br>
		<img class="plain" src="img/paper2/record_linkage_2.svg" width="30%">&nbsp;
		<img class="plain" src="img/paper2/record_linkage_3.svg" width="30%"><br>	

	    <aside class="notes">
			These figures show percentage of matching records, executing the three algorithms with values of K between three and 200 and values of L between one and 13.<br><br>
			Each version improves re-identification rate, being the third version the one that obtains better results overall.<br><br>
			K value was highly correlated with privacy, because when the value of $k$ increases, record linkage decreases.<br><br>
			L also affects privacy. With a higher L number users were matched with more specific queries, therefore, it was also more probable to obtain a correct re-identification of the original user.<br><br>
	    </aside>
	  </section>

<!-------------------------------------------------------------------------------->
	  <section>
	    <h3>Privacy study</h3>
		<img class="plain" src="img/paper2/ks.svg"><br>
		Kolmogorov-Smirnov<br>
		<small>($D=0.08$, $p$-value$=0.9977$)</small><br>

	    <aside class="notes">
			In all cases, results were under the theoretical maximum probability of 1/K of being re-identified.<br><br>
			We ran the Kolmogorov-Smirnov statistical test to compare the K-anonymity probability with our experimental results<br><br>
			The statistical test yields to acceptance of the null hypothesis that our results follow k-anonymity's probability of re-identification.<br><br>
	    </aside>
	  </section>

<!-------------------------------------------------------------------------------->
	  <section>
	    <h3>Utility study</h3>
	    Preservation of original user's interest:<br>

		<img class="plain" src="img/paper2/emd.svg" width="33%">

		<img class="plain" src="img/paper2/emd_tpc.svg" width="33%"><br>

		Using Earth Mover's Distance

	    <aside class="notes">
			We also measured the Distance between profiles, using a metric known as Earth Mover's Distance.<br><br>
			We calculated the distance between the categories of queries assigned to the original profile and the anonymized profile.<br><br>
			This distance is defined as the minimum length of the path that connects the categories assigned to the original and anonymized query.<br><br>
			Therefore EMD represents the difference between the original user's interests, and the ones that are deducted from the anonymized queries.<br><br>
			EMD distances, resulted inversely proportional to L. So, the more levels we use in our anonymizer, the better data utility.<br><br>
	    </aside>
	  </section>

<!-------------------------------------------------------------------------------->
	  <section>
	    <h3>Speed</h3>
		<img class="plain" src="img/paper2/time_shu_.svg" width="33%"><br>
		<img class="plain" src="img/paper2/mean_time_1.svg" width="30%">&nbsp;
		<img class="plain" src="img/paper2/mean_time_2.svg" width="30%">&nbsp;
		<img class="plain" src="img/paper2/mean_time_3.svg" width="30%"><br>

	    <aside class="notes">
			Average processing time per query was 33.68 microseconds. L-value has little effect on required time, K-value has a greater effect.<br><br>
			Compared to our previous proposal where we obtained 22 microseconds per query, we see that the system is slower on average.<br><br>
			However, depending on which parameter values are used, the system is faster than our previous proposal.<br><br>
			<b>First de-anonymizer</b> obtained comparable results to the anonymizer. <b>Second and third de-anonymizers</b>, which are more complex, are also slower and are more affected by increases in K-value<br><br>
	    </aside>
	  </section>

<!-------------------------------------------------------------------------------->
	  <section>
	    <h3>Resource Consumption</h3>
	    <img class="plain" src="img/paper2/memory_1.svg" width="30%">&nbsp;
	    <img class="plain" src="img/paper2/memory_2.svg" width="30%">&nbsp;
	    <img class="plain" src="img/paper2/memory_3.svg" width="30%"><br>

	    <aside class="notes">
			The value of L is the main parameter that affects memory consumption. However, the value of K adds a multiplicative factor.<br><br>
			Both anonymizer and <b>de-anonymizer 1</b> show the same memory profile.<br><br> 
			<b>De-anonymizer 3</b> is the algorithm with higher memory consumption, because it creates user profiles in memory.
	    </aside>
	  </section>
	</section>


<!-------------------------------------------------------------------------------->
<!-- PAPER 3                                                                    -->
<!-------------------------------------------------------------------------------->
	<section>
	  <section>
            <h2>Lifelogging Protection Scheme for Internet-based Personal Assistants</h2>
	    <div style="text-align: right;">
			<small style=""><a href="https://doi.org/10.1007/978-3-030-00305-0_31"><b>Data Privacy Management 2018</b><br> 431–440, September 2018</a></small><br>
			<small>4 cites</small>
	    </div>
	  </section>

<!-------------------------------------------------------------------------------->
	  <section>
		<h3>Internet-based Personal Assistants (PA)</h3>
		<div class="container">
			<div class="colbig align-left">
				<p>
					Combine voice control and search<br>
					To assist in household activities:
				</p>
				<ul>
					<li><span>Scheduling meetings</span></li>
					<li><span>Finding locations</span></li>
					<li><span>Reporting of cultural events</span></li>
					<li><span>Sending messages</span></li>
				</ul>
				<p>
					Lifelogs about users<br>
					Stored by big Internet players
				</p>		
			</div>
			<div class="col">
			    <br><br>
			    <img class="plain" src="img/paper3/google_home.png"/>
			</div>
		</div>

	    <aside class="notes">
			Finally we wanted to study how the system behaves in a Personal Assistants environment.<br><br>
			Those systems could be used to assist in household activiries.<br><br>
			However they also generate lifelogs of the user that are stored on remote servers.<br><br>
	    </aside>
	  </section>

<!-------------------------------------------------------------------------------->
	  <section>
		<h3>Queries of a PA</h3>
		<table>
		    <tr><th>Field</th><th>Sample</th></tr>
		    <tr><td>User id</td><td>150922</td><tr>
		    <tr><td>Query</td><td>Quelle est la météo de demain</td><tr>
		    <tr><td>Location</td><td>https://google.com/maps?q=<b>48.624924,2.443970</b></td><tr>
		    <tr><td>Time</td><td>15 Jun 2020, 14:09:53</td><tr>
		    <tr><td>Products</td><td>Assistant</td><tr>
		</table>

	    <aside class="notes">
			An important difference with Web Search Engine logs is that personal assistants tend to send the location of the user.<br><br>
			This is used to offer answers to the users related to where they are physically.
	    </aside>
	  </section>

<!-------------------------------------------------------------------------------->
	  <section>
		<h3>Sanitizable Signatures</h3>
		<ul>
		    <li><span>Signer creates a ciphertext $c$</span></li>
		    <li><span>Divides $c \in \{0,1\}^*$ into $N$ blocks $m_1,..., m_N$</span></li>
		    <li><span>$ADM \in {1,N}$ admissible modifications</span></li>
		    <li><span>Signer signs $c$ using a key related to sanitizer</span></li>
		    <li><span><b>Sanitizer can modify $ADM$ parts of $c$</b></span></li>
		    <li><span><b>Keeps the resulting signature valid</b></span></li>
		    <li><span>Satisfy unlinkability, and limit modifications</span></li>
		</ul>

	    <aside class="notes">
	    </aside>
	  </section>

<!-------------------------------------------------------------------------------->
	  <section>
		<h3>General Data Protection Regulation (GDPR)</h3>
		<ul>
		    <li><span><b>Data Subject</b>: generates data</span></li>
		    <li><span><b>Data Controller</b>: define processing purpose</span></li>
		    <li><span><b>Data Processor</b>: processes personal data</span></li>
		</ul>
		<p>Roles relevant to lifelogging environments</p>

	    <aside class="notes">
	    </aside>
	  </section>

<!-------------------------------------------------------------------------------->
	  <section data-auto-animate>
		<h3 data-id="title">Current architecture</h3>
	    <img class="plain" src="img/paper3/architecture_googlehome.svg" width="60%">
		<p>
		    <b>Main Service</b>: Data controller<br>
		    <small>With access to queries, commands and control logs</small>
		</p>
		<b>Third Parties</b>: Data processors<br>
		<small>With interest on accessing anonymized data</small>

	    <aside class="notes">
	    </aside>
	  </section>

<!-------------------------------------------------------------------------------->
	  <section data-auto-animate>
		<h3 data-id="title">Architecture change</h3>
		<img class="plain" src="img/paper3/architecture_googlehome.svg" width="60%"><br>
		$\downarrow$<br>
		<img class="plain" src="img/paper3/architecture_proposal_simple.svg" width="60%"><br>

	    <aside class="notes">
	    </aside>
	  </section>

<!-------------------------------------------------------------------------------->
	  <section data-auto-animate>
		<h3 data-id="title">Proposed architecture</h3>
		<img class="plain" src="img/paper3/architecture_proposal_simple.svg" width="60%"><br>
		<p>
		    <b>Identity Screener</b>: compliance of privacy<br>
		    <small>Container of privacy filters for data protection</small>
		</p>
		<p>
		    <b>Auditor</b>: Auditing agent<br>
		    <small>Accountability and users' consent</small>
		</p>

	    <aside class="notes">
	    </aside>
	  </section>

<!-------------------------------------------------------------------------------->
	  <section>
		<h3>Extended architecture (request)</h3>
		<img class="plain" src="img/paper3/architecture_ttp.svg" width="90%"><br>

	    <aside class="notes">
			<ul>
				<li><span><b>ID Anonymizer</b>:  Replaces userID with a pseudonymous</span></li>
				<li><span><b>Request Decrypter</b>:  Decrypts the body of the query</span></li>
				<li><span><b>Request Classifier</b>:  Determines the query class</span>
				<ul>
					<li><span><b>Query Anonymizer</b>:  Treatment of general queries</span></li>
					<li><span><b>Query Generalizer</b>:  Treatment of location based queries</span></li>
					<li><span><b>Command Generalizer</b>:  Treatment of commands</span></li>
				</ul>
				</li>
				<li><span><b>Request Integrator</b>:  Unifies anonymized queries</span></li>
				<li><span><b>ID De-anonymizer</b>:  Restores original userID</span></li>
			</ul>
	    </aside>
	  </section>
	  
<!-------------------------------------------------------------------------------->
	  <section>
		<h3>Extended architecture (response)</h3>
		<img class="plain" width="90%" src="img/paper3/architecture_ttp_resp.svg"/>

	    <aside class="notes">
			<p>After the Request Decrypter step, response is generated in parallel:</p>
			<ul>
				<li><span><b>Request Decrypter</b>:  Decrypts the body of thequery</span></li>
				<li><span><b>Response Generator</b>:  Creates the encrypted response message</span></li>
				<li><span><b>ID De-anonymizer</b>:  Restores original userID</span></li>
			</ul>
	    </aside>
	  </section>

	</section>

<!-------------------------------------------------------------------------------->
<!-- CONCLUSION AND FUTURE WORK                                                 -->
<!-------------------------------------------------------------------------------->

	<section>
	  <section>
      	<h2>Conclusions and Future Work</h2>
	  </section>

<!-------------------------------------------------------------------------------->
	  <section>
	    <h3>Proposed system</h3>
		<blockquote>Publish protected query logs reassigning users</blockquote>
		<small>Over unstructured data streams</small>
		
		<blockquote>Allows configuration</blockquote>
		<small>$k$ adjusts privacy, $\ell$ adjusts utility</small><br>
		<img class="plain" src="img/conclusions/machine.svg" width="40%">

	    <aside class="notes">
	    </aside>
	  </section>

<!-------------------------------------------------------------------------------->
	  <section>
	    <h3>Integration</h3>
		<blockquote>In a Personal Assistants environment</blockquote>
		<small>Architecture with anonymization and signatures</small>

		<blockquote>Proposed in terms of GDPR</blockquote>
		<small>w.r.t. cooperation between actors</small>

		<blockquote>Role and needs of the organizations to monetize</blockquote>
		<small>Limit privacy disclosure, keep data utility</small>

	    <aside class="notes">
	    </aside>
	  </section>

<!-------------------------------------------------------------------------------->
	  <section>
	    <h3>Requirements</h3>
		<blockquote>
			Lifelogging stream anonymization
			<img class="plain" style="vertical-align:middle" src="img/conclusions/check.png" width="40px">
		</blockquote>
		<small>Proposed, developed and evaluated</small><br>

		<blockquote>
			Preserves utility, useful for 3rd parties
			<img class="plain" style="vertical-align:middle" src="img/conclusions/check.png" width="40px">
		</blockquote>
		<small>Allows monetization</small><br>

		<blockquote>
			Fast protection + high level of privacy
			<img class="plain" style="vertical-align:middle" src="img/conclusions/check.png" width="40px"> 
		</blockquote>
		<small>Handles <i>Google</i>'s average load</small>

	    <aside class="notes">
	    </aside>
	  </section>

<!-------------------------------------------------------------------------------->
	  <section>
	    <h3>Future Work</h3>
		<blockquote>Additional categorizers may be proposed</blockquote>
		<small>i.e. artificial intelligence systems</small>
		<blockquote>Dynamic $\ell$-values & Distributed nodes</blockquote>
		<small>Globally or per branch</small>
		<blockquote>Experiments with logs' time</blockquote>
		<small>Integration in other contexts</small><br>	
		<img class="plain" src="img/conclusions/future3.png"/>

	    <aside class="notes">
			There are several avenues for improving our work. Additional categorizers may
			be proposed, for example using artificial intelligence systems
			to perform query analysis. Another improvement is to consider  dynamic $\ell$-values, both globally or for some specific
			category branches. System performance could also be tested in a
			distributed node environment, where each node is responsible for
			processing a part of the queries. A real-time record linkage analysis
			could be added to ensure that we only publish records that meet a
			certain threshold of privacy. Finally, some experiments could be
			conducted with queries' time, both with anonymization and
			de-anonymization algorithms, to improve their performance.
	    </aside>
	  </section>
<!-------------------------------------------------------------------------------->
<!-- THANKS                                                                     -->
<!-------------------------------------------------------------------------------->

	  <section>
	      <h2>Thank you</h2>
	      <img class="plain" width="50%" src="img/conclusions/question.png"/>
	  </section>
	</section>

<!--------------------------------------------------------------------------------------------------------------------------->
<!--------------------------------------------------------------------------------------------------------------------------->
<!-- ANNEX                                                                                                                 -->
<!--------------------------------------------------------------------------------------------------------------------------->
<!--------------------------------------------------------------------------------------------------------------------------->
	<section>
	  <section>
		<h2>Annex</h2>
	  </section>

<!-------------------------------------------------------------------------------->
	  <section>
	    <h3>1 - Classifier</h3>
	    <div class="container">
			<div class="col align-left">
				<p>Additional tasks:</p>
				<ul>
					<li><span>Recommendations</span></li>
					<li><span>Entropies</span></li>
					<li><span>Categories</span></li>
				</ul>
				<p>
					TOR + Privoxy<br>
					Fast NLTK version
				</p>
			</div>
			<div class="col">
				<img class="plain" src="img/paper1/classifier.png">
			</div>
	    </div>

	    <aside class="notes">
	    </aside>
	  </section>

<!-------------------------------------------------------------------------------->
	  <section>
		<h3>2 - Anonymizer Algorithm</h3>
		Inputs: $k$, $\ell$ and $R$. Output: $R'$
        <pre><code data-trim data-noescape>
		  \ForEach{$r_j \in R$}{
		    // Get current user, query text and full query categorization\\
		    $u, q, c \gets r_j$\;
		    // Truncate categorization to level $\ell$\\
		    $cat \gets \{\gamma_s^1, ..., \gamma_{s^*}^\ell \} \in c$\;
		    // Add current user to users' category set\\
		    $users[cat] \gets u$\;
		    // Add current query and full categorization to queries' category set\\
		    $query[cat] \gets \{q, c\}$\;
		    // While there are more than $k$ distinct users on the current category\\
		    \While{$distinct(users[cat]) > k$}{
			// Select and remove a random query and categorization from the category's set\\
			\textbf{pop} random \{$q', c'\} \in query[cat]$\;
			// Select and remove a random user from the category's set, distinct from the original user related to the query\\
			\textbf{pop} random $u' \in users[cat], u'\neq Id(q)$\; %q.user $\;
			// Send to the output the selected user, query and category\\
			\textbf{send} $u', q', c'$\;
		    }
		  }
		</code></pre>

	    <aside class="notes">
			An algorithmic version of our anonymization process 
			presents the anonymization process counterpart, assumed to be implemented 
			by a PPT adversary.  Algorithm receives three 
			main inputs: desired $k$, $\ell$ values, and $R$ as a stream of 
			hierarchically categorized query logs.
	    </aside>
	  </section>

<!-------------------------------------------------------------------------------->
	  <section>
	    <h3>2 - Utility study</h3>
		<img class="plain" src="img/paper2/tpc_out.svg" width="60%"><br>
		% of logs generated as an output

	    <aside class="notes">
			We proceed to analyze the utility of the proposed anonymizer. This
			analysis has been focused on two different aspects:
			+ Percentage of logs that the system can generate as an output.
			+ Preservation of original user's interest in anonymized user's profiles.

			First, we want to analyze the percentage of logs that can be generated
			by the system over the total number of logs that it gets. The proposed
			system uses sets, and each set must have at least $k$ different users before being
			able to release an anonymized log. A possible drawback to this approach is that some sets do not reach $k$
			users and, therefore, the logs contained in this set do not end up
			leaving the system. As we can see in Figure~\ref{fig:tpc_out}, this
			effect exists and it is directly proportional to the depth of the
			category tree. This is consistent, since with more depth, more
			categories are created and the minimum of $k$ users on these categories
			is reached more slowly. However, we see that as more queries enter the
			system, all categories become filled with queries and the percentage
			of log output increases, tending to a $100$\% rate for any depth of the
			tree.

			{Output queries vs. total queries (\%). Some sets take a while to fill. This effect is directly proportional to the depth of the category tree as more sets need to get $k$ different users.\label{fig:tpc_out}}
	    </aside>
	  </section>
	  
<!-------------------------------------------------------------------------------->
      <section>
	    <h3>2 - Privacy study</h3>
		<img class="plain" src="img/paper2/k_initial_final.svg"><br>
		Final $\mid Q \mid$-value<br>
	  
	    <aside class="notes">
			In all cases, results are under the theoretical maximum probability
			${\frac{1}{k}}$ of being re-identified~\cite{purdam2007case}. We ran the
			  Kolmogorov-Smirnov goodness-of-fit statistical
			  test~\cite{Kolmogorov1933,smirnov1948table} to compare the
			  $k$-anonymity probability with the experimental results,
			  Figure~\ref{fig:ks}. The maximum difference between the cumulative
			  distributions, $D$, is $0.08$ with a corresponding $p$-value of
			  $0.9977$. Therefore, the statistical test yields to acceptance of
			  the null hypothesis that our results follow k-anonymity's
			  probability of re-identification (at the 5\% level of
			  significance).

			\Figure[ht](topskip=0pt, botskip=0pt, midskip=0pt)[scale=0.64]{ks}
			{Comparison between cumulative fraction functions
			of the theoretical $k$-anonymity (dashed) and experimental
			results (solid). Used for the Kolmogorov-Smirnov test
			($D=0.08$, $p$-value$=0.9977$).\label{fig:ks}}
	    </aside>
	  </section>

<!-------------------------------------------------------------------------------->
	  <section>
	    <h3>2 - Delay</h3>
		<img class="plain" src="img/paper2/queries_delay.svg" width="60%"><br>
		$\ell \leq 6 < 1s$ &nbsp;&nbsp;&nbsp;&nbsp; $\ell \leq 13 < 2 s$
	    
	    <aside class="notes">
			{Queries delay, as the mean number of other queries that enter the system during the period between the entry and the leave of a given query. Once the categories are full, the output stabilizes.\label{fig:queries_delay}}

			Taking as reference the $40 000$ queries per second that Google
			receives (according to Ref.~\cite{gsearch}), we see that our system's
			output stabilizes in a few minutes for larger values of $\ell$. Once
			the delay is stable, our system takes less than one second for values
			$\ell \leq 6$, and does not reach two seconds for larger values of
			$\ell$.
	    </aside>
	  </section>

<!-------------------------------------------------------------------------------->
	  <section>
	    <h3>2 - RESOURCE CONSUMPTION</h3>
		<table>
			<tr>
				<th>$\ell$</th> <th>Added categories</th> <th>Total categories</th>
				<th>$\ell$</th> <th>Added categories</th> <th>Total categories</th>
			</tr>
			<tr><td><b>1</b></td> <td>16</td> <td>16</td>			<td><b>8</b></td> <td>26 914</td ><td>167 123</td></tr>
			<tr><td><b>2</b></td> <td>537</td> <td>553</td>			<td><b>9</b></td> <td>16 863</td> <td>183 986</td></tr>
			<tr><td><b>3</b></td> <td>5 523</td> <td>6 076</td>		<td><b>10</b></td> <td>7 863</td> <td>191 849</td></tr>
			<tr><td><b>4</b></td> <td>21 768</td> <td>27 862</td>		<td><b>11</b></td> <td>2 143</td> <td>193 992</td></tr>
			<tr><td><b>5</b></td> <td>36 806</td> <td>64 668</td>		<td><b>12</b></td> <td>441</td> <td>194 433</td></tr>
			<tr><td><b>6</b></td> <td>35 543</td> <td>100 211</td>		<td><b>13</b></td> <td>72</td> <td>194 505</td></tr>
			<tr><td><b>7</b></td> <td>39 998</td> <td>140 209</td>		<td></td> <td></td> <td></td></tr>
		</table>
		
	    <aside class="notes">
			Number of categories added with each increase in $\ell$-value and total categories of a tree with $\ell$ depth. Although we found a maximum depth of thirteen, we see that most records are classified at depths between five and seven.
	    </aside>
	  </section>
	</section>

<!--------------------------------------------------------------------------------------------------------------------------->
<!--------------------------------------------------------------------------------------------------------------------------->
<!-- END OF SLIDES                                                                                                         -->
<!--------------------------------------------------------------------------------------------------------------------------->
<!--------------------------------------------------------------------------------------------------------------------------->

      </div>
    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="dist/reveal.js"></script>
	<script src="plugin/notes/notes.js"></script>
	<script src="plugin/markdown/markdown.js"></script>
	<script src="plugin/highlight/highlight.js"></script>
	<script src="plugin/zoom/zoom.js"></script>
	<script src="plugin/math/math.js"></script>
	<script src="plugin/customcontrols/customcontrols.js"></script>
	<script src="plugin/anything/anything.js"></script>
    <script>
			// More info about initialization & config:
			// - https://revealjs.com/initialization/
			// - https://revealjs.com/config/
			Reveal.initialize({
				hash: true,
				controls: false,
				customcontrols: {
					slideNumberCSS : 'position: fixed; display: block; right: 90px; top: auto; left: auto; width: 50px; bottom: 10px; z-index: 31; font-family: Helvetica, sans-serif; font-size:  12px; line-height: 1; padding: 5px; text-align: center; border-radius: 10px; background-color: rgba(128,128,128,.5);',
					controls: [ 
						{ icon: '<i class="fa fa-caret-left"></i>', css: 'position: fixed; right: 60px; bottom: 10px; z-index: 30; font-size: 24px;', action: 'Reveal.prev(); return false;' }, 
						{ icon: '<i class="fa fa-caret-right"></i>', css: 'position: fixed; right: 30px; bottom: 10px; z-index: 30; font-size: 24px;', action: 'Reveal.next(); return false;' }, 
					]
				},
				slideNumber: 'h.v',
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes, RevealMath, RevealZoom]
			});
		</script>
	</body>
</html>
